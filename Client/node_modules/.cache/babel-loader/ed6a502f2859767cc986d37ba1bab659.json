{"ast":null,"code":"import _objectSpread from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{useMediaQuery}from'react-responsive';import{MdFormatQuote,MdPhotoCamera,MdRemoveCircle}from'react-icons/md';import{RiShareBoxLine}from'react-icons/ri';import{IoFilmSharp}from'react-icons/io5';import Card from'../util/Card';import TextareaAutosize from'react-textarea-autosize';import{createPost}from'../../store/actions/postAction';import{addMedia}from'../util/Media';import styles from'./Status.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Status=function Status(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,socket=_useSelector.socket;var isDesktop=useMediaQuery({query:'(min-width: 1224px)'});var isTablet=useMediaQuery({query:'(min-device-width : 768px) and (max-device-width: 1224px)'});var _useState=useState({text:'',files:[]}),_useState2=_slicedToArray(_useState,2),form=_useState2[0],setForm=_useState2[1];useEffect(function(){if(!form.text.trim())document.getElementById(\"submit\").disabled=true;else document.getElementById(\"submit\").disabled=false;},[form.text]);var addAttachHandler=function addAttachHandler(e){var files=_toConsumableArray(e.target.files);var rs=addMedia(form.files,files);if(rs.error)return dispatch({type:'ALERT',payload:{error:rs.error}});setForm(_objectSpread(_objectSpread({},form),{},{files:rs.success}));e.target.value=null;};var removeAttachmentHandler=function removeAttachmentHandler(){setForm(_objectSpread(_objectSpread({},form),{},{files:[]}));};var submitHandler=function submitHandler(e){e.preventDefault();if(!form.text)return;if(auth.token&&form.text){dispatch(createPost(form,auth,socket));setForm({text:'',files:[]});}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsxs(\"ul\",{className:styles.list_items,children:[/*#__PURE__*/_jsxs(\"li\",{className:styles.item,children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#EBB35E'},className:styles.icon_wrapper,children:/*#__PURE__*/_jsx(MdFormatQuote,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.text,children:\"Write \".concat(isDesktop||isTablet?'a quote':'')})]}),/*#__PURE__*/_jsxs(\"li\",{className:styles.item,children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#7BCDD2'},className:styles.icon_wrapper,children:/*#__PURE__*/_jsx(RiShareBoxLine,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.text,children:\"Share \".concat(isDesktop||isTablet?'a post':'')})]}),/*#__PURE__*/_jsxs(\"li\",{className:styles.item,children:[/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'#D498E9'},className:styles.icon_wrapper,children:/*#__PURE__*/_jsx(MdPhotoCamera,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.text,children:\"Upload \".concat(isDesktop||isTablet?'a photo':'')})]})]}),/*#__PURE__*/_jsx(Card,{width:\"100%\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,action:\"\",method:\"post\",className:styles.form,children:[/*#__PURE__*/_jsx(TextareaAutosize,{minRows:\"3\",maxRows:\"9\",value:form.text,spellCheck:\"false\",type:\"text\",name:\"text\",onChange:function onChange(e){return setForm(_objectSpread(_objectSpread({},form),{},{text:e.target.value}));},className:styles.textarea,placeholder:\"What's on your mind?\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.media_list,children:[form.files&&form.files.map(function(file,index){return/*#__PURE__*/_jsx(\"div\",{className:styles.media_wrapper,children:file.type.match(/video/i)?/*#__PURE__*/_jsx(\"video\",{className:styles.media,controls:true,src:URL.createObjectURL(file),alt:\"video\"}):/*#__PURE__*/_jsx(\"img\",{className:styles.media,src:URL.createObjectURL(file),alt:\"image\"})},index);}),/*#__PURE__*/_jsx(\"div\",{onClick:removeAttachmentHandler,className:styles.remove_btn,children:/*#__PURE__*/_jsx(MdRemoveCircle,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.bottom,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.btn_group,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.video,children:[/*#__PURE__*/_jsx(\"input\",{onChange:addAttachHandler,multiple:true,accept:\"video/*\",className:styles.file_input,type:\"file\",name:\"video\",id:\"video\"}),/*#__PURE__*/_jsx(\"label\",{className:styles.label,htmlFor:\"video\",children:/*#__PURE__*/_jsx(IoFilmSharp,{})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles.image,children:[/*#__PURE__*/_jsx(\"input\",{onChange:addAttachHandler,multiple:true,accept:\"image/*\",className:styles.file_input,type:\"file\",name:\"image\",id:\"image\"}),/*#__PURE__*/_jsx(\"label\",{className:styles.label,htmlFor:\"image\",children:/*#__PURE__*/_jsx(MdPhotoCamera,{})})]})]}),/*#__PURE__*/_jsx(\"button\",{id:\"submit\",className:styles.submit,type:\"submit\",children:\"POST\"})]})]})})]});};export default Status;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/components/home/Status.js"],"names":["React","useState","useEffect","useDispatch","useSelector","useMediaQuery","MdFormatQuote","MdPhotoCamera","MdRemoveCircle","RiShareBoxLine","IoFilmSharp","Card","TextareaAutosize","createPost","addMedia","styles","Status","dispatch","state","auth","socket","isDesktop","query","isTablet","text","files","form","setForm","trim","document","getElementById","disabled","addAttachHandler","e","target","rs","error","type","payload","success","value","removeAttachmentHandler","submitHandler","preventDefault","token","container","list_items","item","backgroundColor","icon_wrapper","textarea","media_list","map","file","index","media_wrapper","match","media","URL","createObjectURL","remove_btn","bottom","btn_group","video","file_input","label","image","submit"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nimport {MdFormatQuote, MdPhotoCamera, MdRemoveCircle} from 'react-icons/md'\r\nimport {RiShareBoxLine} from 'react-icons/ri'\r\nimport {IoFilmSharp} from 'react-icons/io5'\r\n\r\nimport Card from '../util/Card'\r\nimport TextareaAutosize from 'react-textarea-autosize'\r\n\r\nimport {createPost} from '../../store/actions/postAction'\r\nimport { addMedia } from '../util/Media'\r\n\r\nimport styles from './Status.module.css'\r\n\r\nconst Status = () => {\r\n    const dispatch = useDispatch()\r\n\r\n    const {auth, socket} = useSelector(state=>state)\r\n\r\n    const isDesktop = useMediaQuery({ query: '(min-width: 1224px)' })\r\n    const isTablet = useMediaQuery({ query: '(min-device-width : 768px) and (max-device-width: 1224px)' })\r\n\r\n    const [form,setForm] = useState({\r\n        text: '',\r\n        files: []\r\n    })\r\n\r\n    useEffect(()=>{\r\n        if(!form.text.trim()) document.getElementById(\"submit\").disabled = true\r\n        else document.getElementById(\"submit\").disabled = false\r\n        \r\n    },[form.text])\r\n\r\n    const addAttachHandler = e => {\r\n        const files = [...e.target.files]\r\n        const rs = addMedia(form.files, files)\r\n        if(rs.error) return dispatch({ type: 'ALERT', payload: {error: rs.error} })\r\n        setForm({...form, files: rs.success})\r\n        e.target.value=null\r\n    }\r\n    \r\n    const removeAttachmentHandler = () => {\r\n        setForm({...form, files: []})\r\n    }\r\n\r\n    const submitHandler = e => {\r\n        e.preventDefault()\r\n\r\n        if(!form.text) return\r\n        if(auth.token && form.text){\r\n            dispatch(createPost(form, auth, socket))\r\n            setForm({text: '', files: []})\r\n        }\r\n    }\r\n    return (\r\n        <div className={styles.container}>\r\n            <ul className={styles.list_items}>\r\n                <li className={styles.item}>\r\n                    <div style={{backgroundColor: '#EBB35E'}} className={styles.icon_wrapper}>\r\n                        <MdFormatQuote />\r\n                    </div>\r\n                    <div className={styles.text}>{`Write ${isDesktop||isTablet ? 'a quote':''}`}</div>\r\n                </li>\r\n                <li className={styles.item}>   \r\n                    <div style={{backgroundColor: '#7BCDD2'}} className={styles.icon_wrapper}>\r\n                        <RiShareBoxLine />\r\n                    </div>                  \r\n                    <div className={styles.text}>{`Share ${isDesktop||isTablet ? 'a post':''}`}</div>\r\n                </li>\r\n                <li className={styles.item}>\r\n                    <div style={{backgroundColor: '#D498E9'}} className={styles.icon_wrapper}>\r\n                        <MdPhotoCamera />\r\n                    </div>   \r\n                    <div className={styles.text}>{`Upload ${isDesktop||isTablet ? 'a photo':''}`}</div>\r\n                </li>\r\n            </ul>\r\n            <Card width='100%'>\r\n                <form onSubmit={submitHandler} action=\"\" method=\"post\" className={styles.form}>\r\n                    <TextareaAutosize minRows='3' maxRows='9' value={form.text} spellCheck='false' type='text' name='text' onChange={e=>setForm({...form,text: e.target.value})} className={styles.textarea} placeholder=\"What's on your mind?\" />\r\n                    <div className={styles.media_list} >\r\n                        {form.files && (form.files.map((file,index) =>\r\n                            (\r\n                                <div key={index} className={styles.media_wrapper}>\r\n                                    {\r\n                                        file.type.match(/video/i)\r\n                                        ? <video className={styles.media} controls src={URL.createObjectURL(file)} alt=\"video\" />\r\n                                        : <img className={styles.media} src={URL.createObjectURL(file)} alt=\"image\" />\r\n                                    }\r\n                                </div>\r\n                            ))\r\n                        )}\r\n                        <div onClick={removeAttachmentHandler} className={styles.remove_btn}><MdRemoveCircle /></div>\r\n                    </div>\r\n                    <div className={styles.bottom}>\r\n                        <div className={styles.btn_group}>\r\n                            <div className={styles.video}>\r\n                                <input onChange={addAttachHandler} multiple accept=\"video/*\" className={styles.file_input} type=\"file\" name=\"video\" id=\"video\" />\r\n                                <label className={styles.label} htmlFor=\"video\"><IoFilmSharp/></label>\r\n                                </div>\r\n                            <div className={styles.image}>\r\n                                <input onChange={addAttachHandler} multiple accept=\"image/*\" className={styles.file_input} type=\"file\" name=\"image\" id=\"image\" />\r\n                                <label className={styles.label} htmlFor=\"image\"><MdPhotoCamera/></label>\r\n                            </div>\r\n                        </div>                            \r\n                        <button id='submit' className={styles.submit} type=\"submit\">POST</button>\r\n                    </div>\r\n                </form>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Status"]},"metadata":{},"sourceType":"module"}