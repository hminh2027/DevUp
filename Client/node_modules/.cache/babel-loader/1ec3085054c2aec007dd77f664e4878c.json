{"ast":null,"code":"import _regeneratorRuntime from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{postAPI,getAPI,deleteAPI,patchAPI}from'../../apis/Axios';import{createNotice}from'./noticeAction';export var createProject=function createProject(auth,body){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:'ALERT',payload:{loading:true}});_context.next=4;return postAPI('project',body,auth.token);case 4:res=_context.sent;dispatch({type:'OPEN_PROJECT',payload:res.data.newCode});dispatch({type:'CHANGE_TAB',payload:1});dispatch({type:'ALERT',payload:{success:res.data.msg}});_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context.t0.response.data.msg}});case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var editableProject=function editableProject(auth,id){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return patchAPI(\"project/\".concat(id,\"/changeEditable\"),null,auth.token);case 3:res=_context2.sent;dispatch({type:'UPDATE_PROJECT',payload:res.data.newCode});dispatch({type:'ALERT',payload:{success:res.data.msg}});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context2.t0.response.data.msg}});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var openProject=function openProject(project){return function(dispatch){dispatch({type:'OPEN_PROJECT',payload:project});dispatch({type:'CHANGE_TAB',payload:1});};};export var renameProject=function renameProject(auth,name,id){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;dispatch({type:'ALERT',payload:{loading:true}});_context3.next=4;return patchAPI(\"project/\".concat(id,\"/rename\"),{name:name},auth.token);case 4:res=_context3.sent;dispatch({type:'RENAME_PROJECT',payload:res.data.newCode});dispatch({type:'ALERT',payload:{success:res.data.msg}});_context3.next=12;break;case 9:_context3.prev=9;_context3.t0=_context3[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context3.t0.response.data.msg}});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,9]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var saveProject=function saveProject(auth,body,id){return/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return patchAPI(\"project/\".concat(id),body,auth.token);case 3:res=_context4.sent;dispatch({type:'UPDATE_PROJECT',payload:res.data.newCode});dispatch({type:'ALERT',payload:{success:res.data.msg}});_context4.next=11;break;case 8:_context4.prev=8;_context4.t0=_context4[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context4.t0.response.data.msg}});case 11:case\"end\":return _context4.stop();}}},_callee4,null,[[0,8]]);}));return function(_x4){return _ref4.apply(this,arguments);};}();};export var deleteProject=function deleteProject(auth,id){return/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var res;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;_context5.next=3;return deleteAPI(\"project/\".concat(id),auth.token);case 3:res=_context5.sent;dispatch({type:'DELETE_OWN_PROJECT',payload:res.data.deletedCode});dispatch({type:'ALERT',payload:{success:res.data.msg}});_context5.next=11;break;case 8:_context5.prev=8;_context5.t0=_context5[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context5.t0.response.data.msg}});case 11:case\"end\":return _context5.stop();}}},_callee5,null,[[0,8]]);}));return function(_x5){return _ref5.apply(this,arguments);};}();};export var deleteReceivedProject=function deleteReceivedProject(auth,id){return/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var res;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.prev=0;_context6.next=3;return patchAPI(\"project/\".concat(id,\"/received\"),null,auth.token);case 3:res=_context6.sent;dispatch({type:'DELETE_SHARE_PROJECT',payload:res.data.deletedCode});dispatch({type:'ALERT',payload:{success:res.data.msg}});_context6.next=11;break;case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context6.t0.response.data.msg}});case 11:case\"end\":return _context6.stop();}}},_callee6,null,[[0,8]]);}));return function(_x6){return _ref6.apply(this,arguments);};}();};export var getOwnProjects=function getOwnProjects(auth){return/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(dispatch){var res;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.prev=0;dispatch({type:'LOADING_PROJECT',payload:true});_context7.next=4;return getAPI('project/own',auth.token);case 4:res=_context7.sent;dispatch({type:'GET_OWN_PROJECTS',payload:res.data.codes});dispatch({type:'LOADING_PROJECT',payload:false});_context7.next=12;break;case 9:_context7.prev=9;_context7.t0=_context7[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context7.t0.response.data.msg}});case 12:case\"end\":return _context7.stop();}}},_callee7,null,[[0,9]]);}));return function(_x7){return _ref7.apply(this,arguments);};}();};export var getShareProjects=function getShareProjects(auth){return/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(dispatch){var res;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.prev=0;dispatch({type:'LOADING_PROJECT',payload:true});_context8.next=4;return getAPI('project/share',auth.token);case 4:res=_context8.sent;dispatch({type:'GET_SHARE_PROJECTS',payload:res.data.codes});dispatch({type:'LOADING_PROJECT',payload:false});_context8.next=12;break;case 9:_context8.prev=9;_context8.t0=_context8[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context8.t0.response.data.msg}});case 12:case\"end\":return _context8.stop();}}},_callee8,null,[[0,9]]);}));return function(_x8){return _ref8.apply(this,arguments);};}();};export var shareProject=function shareProject(receivers,id,auth,socket){return/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(dispatch){var res,msg;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;dispatch({type:'ALERT',payload:{loading:true}});_context9.next=4;return postAPI(\"project/\".concat(id,\"/share\"),receivers,auth.token);case 4:res=_context9.sent;msg={id:auth.user._id,receivers:receivers,url:auth.user._id,text:'share a project with you!',type:'profile',body:'',tag:'PROJECT'};dispatch(createNotice(auth,msg,socket));dispatch({type:'ALERT',payload:{success:res.data.msg}});dispatch({type:'UPDATE_OWN_PROJECT',payload:res.data.code});dispatch({type:'ALERT',payload:{loading:false}});_context9.next=16;break;case 12:_context9.prev=12;_context9.t0=_context9[\"catch\"](0);console.log(_context9.t0);dispatch({type:'ALERT',payload:{error:_context9.t0.response.data.msg}});case 16:case\"end\":return _context9.stop();}}},_callee9,null,[[0,12]]);}));return function(_x9){return _ref9.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/store/actions/projectAction.js"],"names":["postAPI","getAPI","deleteAPI","patchAPI","createNotice","createProject","auth","body","dispatch","type","payload","loading","token","res","data","newCode","success","msg","error","response","editableProject","id","openProject","project","renameProject","name","saveProject","deleteProject","deletedCode","deleteReceivedProject","getOwnProjects","codes","getShareProjects","shareProject","receivers","socket","user","_id","url","text","tag","code","console","log"],"mappings":"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","sourcesContent":["import {postAPI, getAPI, deleteAPI, patchAPI} from '../../apis/Axios'\r\nimport { createNotice } from './noticeAction'\r\n\r\nexport const createProject = (auth, body) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: 'ALERT', payload: {loading: true}})\r\n\r\n        const res = await postAPI('project', body, auth.token)\r\n\r\n        dispatch({type: 'OPEN_PROJECT', payload: res.data.newCode})\r\n        dispatch({type: 'CHANGE_TAB', payload: 1})\r\n        \r\n        dispatch({type: 'ALERT', payload: {success: res.data.msg}})\r\n\r\n    } catch (err) {       \r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const editableProject = (auth, id) => async (dispatch) => {\r\n    try {\r\n        const res = await patchAPI(`project/${id}/changeEditable`, null, auth.token)\r\n        \r\n        dispatch({type: 'UPDATE_PROJECT', payload: res.data.newCode})\r\n        dispatch({type: 'ALERT', payload: {success: res.data.msg}})\r\n\r\n    } catch (err) {       \r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const openProject = (project) => (dispatch) => {\r\n    dispatch({type: 'OPEN_PROJECT', payload: project})\r\n    dispatch({type: 'CHANGE_TAB', payload: 1})\r\n}\r\n\r\nexport const renameProject = (auth, name, id) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: 'ALERT', payload: {loading: true}})\r\n        const res = await patchAPI(`project/${id}/rename`, {name}, auth.token)\r\n\r\n        dispatch({type: 'RENAME_PROJECT', payload: res.data.newCode})\r\n        dispatch({type: 'ALERT', payload: {success: res.data.msg}})\r\n\r\n    } catch (err) {       \r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const saveProject = (auth, body, id) => async (dispatch) => {\r\n    try {\r\n        const res = await patchAPI(`project/${id}`, body, auth.token)\r\n\r\n        dispatch({type: 'UPDATE_PROJECT', payload: res.data.newCode})\r\n        dispatch({type: 'ALERT', payload: {success: res.data.msg}})\r\n\r\n    } catch (err) {       \r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const deleteProject = (auth, id) => async (dispatch) => {\r\n    try {\r\n        const res = await deleteAPI(`project/${id}`, auth.token)\r\n\r\n        dispatch({type: 'DELETE_OWN_PROJECT', payload: res.data.deletedCode})\r\n        dispatch({type: 'ALERT', payload: {success: res.data.msg}})\r\n\r\n    } catch (err) { \r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const deleteReceivedProject = (auth, id) => async (dispatch) => {\r\n    try {\r\n        const res = await patchAPI(`project/${id}/received`, null,  auth.token)\r\n\r\n        dispatch({type: 'DELETE_SHARE_PROJECT', payload: res.data.deletedCode})\r\n        dispatch({type: 'ALERT', payload: {success: res.data.msg}})\r\n\r\n    } catch (err) { \r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getOwnProjects = (auth) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: 'LOADING_PROJECT', payload: true})\r\n        const res = await getAPI('project/own', auth.token)\r\n       \r\n        dispatch({type: 'GET_OWN_PROJECTS', payload: res.data.codes})\r\n        dispatch({type: 'LOADING_PROJECT', payload: false})\r\n\r\n    } catch (err) {       \r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getShareProjects = (auth) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: 'LOADING_PROJECT', payload: true})\r\n        const res = await getAPI('project/share', auth.token)\r\n       \r\n        dispatch({type: 'GET_SHARE_PROJECTS', payload: res.data.codes})\r\n        dispatch({type: 'LOADING_PROJECT', payload: false})\r\n\r\n    } catch (err) {       \r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const shareProject = (receivers, id, auth, socket) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: 'ALERT', payload: {loading: true}})\r\n        const res = await postAPI(`project/${id}/share`, receivers, auth.token)\r\n\r\n        let msg = {\r\n            id: auth.user._id,\r\n            receivers: receivers,\r\n            url: auth.user._id,\r\n            text: 'share a project with you!',\r\n            type: 'profile',\r\n            body: '',\r\n            tag: 'PROJECT'\r\n        }\r\n\r\n        dispatch(createNotice(auth, msg, socket))\r\n\r\n        dispatch({type: 'ALERT', payload: {success: res.data.msg}})\r\n        dispatch({type: 'UPDATE_OWN_PROJECT', payload: res.data.code})\r\n        \r\n        dispatch({type: 'ALERT', payload: {loading: false}})\r\n\r\n    } catch(err) {\r\n        console.log(err)\r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}