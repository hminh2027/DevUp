{"ast":null,"code":"import React,{useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import{useParams}from'react-router';import{useHistory}from\"react-router-dom\";import PostCard from'../../components/post/PostCard';import Header from'../../components/header/Header';import{getPost}from'../../store/actions/postAction';import Spinner from'../../assets/Spinner.png';import styles from'./Post.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(){var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,post=_useSelector.post;var dispatch=useDispatch();useEffect(function(){dispatch(getPost(auth,id));},[auth.user.id,id,dispatch]);useEffect(function(){!post.post&&history.push('/pagenotfound');},[post.post]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:post.loading?/*#__PURE__*/_jsx(\"div\",{className:styles.spinner_wrapper,children:/*#__PURE__*/_jsx(\"img\",{src:Spinner,alt:\"spinner\"})}):/*#__PURE__*/_jsx(\"div\",{className:styles.post_wrapper,children:post.post&&Object.keys(post.post).length!==0&&/*#__PURE__*/_jsx(PostCard,{post:post.post})})})]});};export default Post;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/views/Post/Post.js"],"names":["React","useEffect","useSelector","useDispatch","useParams","useHistory","PostCard","Header","getPost","Spinner","styles","Post","history","id","state","auth","post","dispatch","user","push","container","loading","spinner_wrapper","post_wrapper","Object","keys","length"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,SAAT,KAA0B,cAA1B,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,QAAP,KAAqB,gCAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CAEA,OAASC,OAAT,KAAwB,gCAAxB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,0BAApB,CAEA,MAAOC,CAAAA,MAAP,KAAoB,mBAApB,C,6IAEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,EAAM,CACf,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CACA,eAAaD,SAAS,EAAtB,CAAOS,EAAP,YAAOA,EAAP,CACA,iBAAqBX,WAAW,CAAC,SAAAY,KAAK,QAAEA,CAAAA,KAAF,EAAN,CAAhC,CAAOC,IAAP,cAAOA,IAAP,CAAaC,IAAb,cAAaA,IAAb,CACA,GAAMC,CAAAA,QAAQ,CAAGd,WAAW,EAA5B,CAGAF,SAAS,CAAC,UAAI,CACVgB,QAAQ,CAACT,OAAO,CAACO,IAAD,CAAOF,EAAP,CAAR,CAAR,CAEH,CAHQ,CAGP,CAACE,IAAI,CAACG,IAAL,CAAUL,EAAX,CAAeA,EAAf,CAAmBI,QAAnB,CAHO,CAAT,CAKAhB,SAAS,CAAC,UAAI,CACV,CAACe,IAAI,CAACA,IAAN,EAAcJ,OAAO,CAACO,IAAR,CAAa,eAAb,CAAd,CAEH,CAHQ,CAGP,CAACH,IAAI,CAACA,IAAN,CAHO,CAAT,CAKA,mBACI,wCACI,KAAC,MAAD,IADJ,cAEI,YAAK,SAAS,CAAEN,MAAM,CAACU,SAAvB,UACKJ,IAAI,CAACK,OAAL,cACD,YAAK,SAAS,CAAEX,MAAM,CAACY,eAAvB,uBAAwC,YAAK,GAAG,CAAEb,OAAV,CAAmB,GAAG,CAAC,SAAvB,EAAxC,EADC,cAGD,YAAK,SAAS,CAAEC,MAAM,CAACa,YAAvB,UACMP,IAAI,CAACA,IAAL,EAAaQ,MAAM,CAACC,IAAP,CAAYT,IAAI,CAACA,IAAjB,EAAuBU,MAAvB,GAAgC,CAA7C,eAAkD,KAAC,QAAD,EAAU,IAAI,CAAEV,IAAI,CAACA,IAArB,EADxD,EAJJ,EAFJ,GADJ,CAgBH,CAjCD,CAmCA,cAAeL,CAAAA,IAAf","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useParams } from 'react-router';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport PostCard from '../../components/post/PostCard';\r\nimport Header from '../../components/header/Header'\r\n\r\nimport { getPost } from '../../store/actions/postAction';\r\n\r\nimport Spinner from '../../assets/Spinner.png'\r\n\r\nimport styles  from './Post.module.css'\r\n\r\nconst Post = () => {\r\n    const history = useHistory()\r\n    const {id} = useParams()\r\n    const {auth, post} = useSelector(state=>state)\r\n    const dispatch = useDispatch()\r\n\r\n\r\n    useEffect(()=>{\r\n        dispatch(getPost(auth, id))\r\n\r\n    },[auth.user.id, id, dispatch])\r\n\r\n    useEffect(()=>{\r\n        !post.post && history.push('/pagenotfound')\r\n\r\n    },[post.post])\r\n\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <div className={styles.container}>\r\n                {post.loading ? \r\n                <div className={styles.spinner_wrapper}><img src={Spinner} alt='spinner' /></div>\r\n                : \r\n                <div className={styles.post_wrapper}>\r\n                    {(post.post && Object.keys(post.post).length!==0 && <PostCard post={post.post} />)\r\n                }\r\n                </div>   \r\n                }\r\n                          \r\n            </div> \r\n        </>\r\n    )\r\n}\r\n\r\nexport default Post\r\n"]},"metadata":{},"sourceType":"module"}