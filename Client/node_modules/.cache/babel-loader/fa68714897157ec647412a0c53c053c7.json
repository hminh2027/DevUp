{"ast":null,"code":"import _toConsumableArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{getAPI}from\"../../apis/Axios\";export var getSuggestion=function getSuggestion(auth,page){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:'LOADING_SUGGESTION',payload:true});_context.next=4;return getAPI(\"/user/suggest?page=\".concat(page),auth.token);case 4:res=_context.sent;if(res.data.users.length>0)dispatch({type:'GET_SUGGESTION',payload:res.data.users});else dispatch({type:'ENDPOINT_SUGGESTION',payload:true});dispatch({type:'LOADING_SUGGESTION',payload:false});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context.t0.response.data.msg}});case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getResSuggestion=function getResSuggestion(auth){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res,suggestions;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:'LOADING_SUGGESTION',payload:true});_context2.next=4;return Promise.all([getAPI(\"/user/suggest?page=1\",auth.token),getAPI(\"/user/suggest?page=2\",auth.token)]);case 4:res=_context2.sent;if(res[0].data.users.length==0||res[1].data.users.length==0)dispatch({type:'ENDPOINT_SUGGESTION',payload:true});else{suggestions=[].concat(_toConsumableArray(res[0].data.users),_toConsumableArray(res[1].data.users));dispatch({type:'GET_SUGGESTION',payload:suggestions});}dispatch({type:'LOADING_SUGGESTION',payload:false});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);dispatch({type:'ALERT',payload:{error:_context2.t0.response.data.msg}});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/store/actions/suggestionAction.js"],"names":["getAPI","getSuggestion","auth","page","dispatch","type","payload","token","res","data","users","length","error","response","msg","getResSuggestion","Promise","all","suggestions"],"mappings":"khBAAA,OAASA,MAAT,KAAuB,kBAAvB,CAEA,MAAO,IAAMC,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACC,IAAD,CAAOC,IAAP,iGAAgB,iBAAOC,QAAP,0IAErCA,QAAQ,CAAC,CAACC,IAAI,CAAE,oBAAP,CAA6BC,OAAO,CAAE,IAAtC,CAAD,CAAR,CAFqC,sBAGnBN,CAAAA,MAAM,8BAAuBG,IAAvB,EAA+BD,IAAI,CAACK,KAApC,CAHa,QAG/BC,GAH+B,eAKrC,GAAGA,GAAG,CAACC,IAAJ,CAASC,KAAT,CAAeC,MAAf,CAAwB,CAA3B,CAA8BP,QAAQ,CAAC,CAACC,IAAI,CAAC,gBAAN,CAAwBC,OAAO,CAAEE,GAAG,CAACC,IAAJ,CAASC,KAA1C,CAAD,CAAR,CAA9B,IACKN,CAAAA,QAAQ,CAAC,CAACC,IAAI,CAAC,qBAAN,CAA6BC,OAAO,CAAE,IAAtC,CAAD,CAAR,CACLF,QAAQ,CAAC,CAACC,IAAI,CAAE,oBAAP,CAA6BC,OAAO,CAAE,KAAtC,CAAD,CAAR,CAPqC,+EAUrCF,QAAQ,CAAC,CAACC,IAAI,CAAE,OAAP,CAAgBC,OAAO,CAAE,CAACM,KAAK,CAAE,YAAIC,QAAJ,CAAaJ,IAAb,CAAkBK,GAA1B,CAAzB,CAAD,CAAR,CAVqC,oEAAhB,gEAAtB,CAcP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACb,IAAD,kGAAU,kBAAOE,QAAP,2JAElCA,QAAQ,CAAC,CAACC,IAAI,CAAE,oBAAP,CAA6BC,OAAO,CAAE,IAAtC,CAAD,CAAR,CAFkC,uBAGhBU,CAAAA,OAAO,CAACC,GAAR,CAAY,CAACjB,MAAM,wBAAyBE,IAAI,CAACK,KAA9B,CAAP,CAA6CP,MAAM,wBAAyBE,IAAI,CAACK,KAA9B,CAAnD,CAAZ,CAHgB,QAG5BC,GAH4B,gBAMlC,GAAGA,GAAG,CAAC,CAAD,CAAH,CAAOC,IAAP,CAAYC,KAAZ,CAAkBC,MAAlB,EAA4B,CAA5B,EAAiCH,GAAG,CAAC,CAAD,CAAH,CAAOC,IAAP,CAAYC,KAAZ,CAAkBC,MAAlB,EAA4B,CAAhE,CAAmEP,QAAQ,CAAC,CAACC,IAAI,CAAC,qBAAN,CAA6BC,OAAO,CAAE,IAAtC,CAAD,CAAR,CAAnE,IACK,CACKY,WADL,8BACuBV,GAAG,CAAC,CAAD,CAAH,CAAOC,IAAP,CAAYC,KADnC,qBAC6CF,GAAG,CAAC,CAAD,CAAH,CAAOC,IAAP,CAAYC,KADzD,GAEDN,QAAQ,CAAC,CAACC,IAAI,CAAC,gBAAN,CAAwBC,OAAO,CAAEY,WAAjC,CAAD,CAAR,CACH,CACDd,QAAQ,CAAC,CAACC,IAAI,CAAE,oBAAP,CAA6BC,OAAO,CAAE,KAAtC,CAAD,CAAR,CAXkC,mFAclCF,QAAQ,CAAC,CAACC,IAAI,CAAE,OAAP,CAAgBC,OAAO,CAAE,CAACM,KAAK,CAAE,aAAIC,QAAJ,CAAaJ,IAAb,CAAkBK,GAA1B,CAAzB,CAAD,CAAR,CAdkC,sEAAV,kEAAzB","sourcesContent":["import { getAPI } from \"../../apis/Axios\"\r\n\r\nexport const getSuggestion = (auth, page) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: 'LOADING_SUGGESTION', payload: true})\r\n        const res = await getAPI(`/user/suggest?page=${page}`, auth.token)\r\n\r\n        if(res.data.users.length > 0) dispatch({type:'GET_SUGGESTION', payload: res.data.users})\r\n        else dispatch({type:'ENDPOINT_SUGGESTION', payload: true})\r\n        dispatch({type: 'LOADING_SUGGESTION', payload: false})\r\n\r\n    } catch(err) {\r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}\r\n\r\nexport const getResSuggestion = (auth) => async (dispatch) => {\r\n    try {\r\n        dispatch({type: 'LOADING_SUGGESTION', payload: true})\r\n        const res = await Promise.all([getAPI(`/user/suggest?page=1`, auth.token), getAPI(`/user/suggest?page=2`, auth.token)])\r\n\r\n\r\n        if(res[0].data.users.length == 0 || res[1].data.users.length == 0) dispatch({type:'ENDPOINT_SUGGESTION', payload: true})\r\n        else {\r\n            const suggestions = [...res[0].data.users, ...res[1].data.users]\r\n            dispatch({type:'GET_SUGGESTION', payload: suggestions})\r\n        }\r\n        dispatch({type: 'LOADING_SUGGESTION', payload: false})\r\n\r\n    } catch(err) {\r\n        dispatch({type: 'ALERT', payload: {error: err.response.data.msg}})\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}