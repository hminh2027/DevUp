{"ast":null,"code":"import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import CommentWrapper from'./CommentWrapper';import styles from'./Comment.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Comment=function Comment(_ref){var post=_ref.post;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mainCmt=_useState2[0],setMainCmt=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),replyCmt=_useState4[0],setReplyCmt=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),showCmt=_useState6[0],setShowCmt=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),cmtShowNumber=_useState8[0],setCmtShowNumber=_useState8[1];useEffect(function(){var cmt=post.comments.filter(function(cmt){return!cmt.reply;});setMainCmt(cmt);var index=IndexCommentCalculate(cmt.length-cmtShowNumber);setShowCmt(cmt.slice(index));},[post.comments,cmtShowNumber]);useEffect(function(){var repCmt=post.comments.filter(function(cmt){return cmt.reply;});setReplyCmt(repCmt);},[post.comments]);var IndexCommentCalculate=function IndexCommentCalculate(index){if(index<=0)index=0;return index;};return mainCmt.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[mainCmt.length-cmtShowNumber>0?/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setCmtShowNumber(cmtShowNumber+5);},className:styles.toggle_cmt,children:\"See more comments...\"}):mainCmt.length>1&&/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setCmtShowNumber(1);},className:styles.toggle_cmt,children:\"Hide comments...\"}),showCmt.map(function(cmt,index){return/*#__PURE__*/_jsx(CommentWrapper,{replyComment:replyCmt.filter(function(rep){return rep.reply===cmt._id;}),comment:cmt,post:post},index);}),/*#__PURE__*/_jsx(\"div\",{className:styles.dropdown,id:\"dropdown_comment\"})]});};export default Comment;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/components/post/comment/Comment.js"],"names":["React","useState","useEffect","CommentWrapper","styles","Comment","post","mainCmt","setMainCmt","replyCmt","setReplyCmt","showCmt","setShowCmt","cmtShowNumber","setCmtShowNumber","cmt","comments","filter","reply","index","IndexCommentCalculate","length","slice","repCmt","container","toggle_cmt","map","rep","_id","dropdown"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,cAAP,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,C,wFAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,MAAY,IAAVC,CAAAA,IAAU,MAAVA,IAAU,CACxB,cAA8BL,QAAQ,CAAC,EAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAAgCP,QAAQ,CAAC,EAAD,CAAxC,yCAAOQ,QAAP,eAAiBC,WAAjB,eACA,eAA8BT,QAAQ,CAAC,EAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eACA,eAA0CX,QAAQ,CAAC,CAAD,CAAlD,yCAAOY,aAAP,eAAsBC,gBAAtB,eAEAZ,SAAS,CAAC,UAAI,CACV,GAAMa,CAAAA,GAAG,CAAGT,IAAI,CAACU,QAAL,CAAcC,MAAd,CAAqB,SAAAF,GAAG,QAAI,CAACA,GAAG,CAACG,KAAT,EAAxB,CAAZ,CACAV,UAAU,CAACO,GAAD,CAAV,CACA,GAAMI,CAAAA,KAAK,CAAGC,qBAAqB,CAACL,GAAG,CAACM,MAAJ,CAAaR,aAAd,CAAnC,CACAD,UAAU,CAACG,GAAG,CAACO,KAAJ,CAAUH,KAAV,CAAD,CAAV,CAEH,CANQ,CAMP,CAACb,IAAI,CAACU,QAAN,CAAgBH,aAAhB,CANO,CAAT,CAQAX,SAAS,CAAC,UAAI,CACV,GAAMqB,CAAAA,MAAM,CAAGjB,IAAI,CAACU,QAAL,CAAcC,MAAd,CAAqB,SAAAF,GAAG,QAAEA,CAAAA,GAAG,CAACG,KAAN,EAAxB,CAAf,CACAR,WAAW,CAACa,MAAD,CAAX,CAEH,CAJQ,CAIP,CAACjB,IAAI,CAACU,QAAN,CAJO,CAAT,CAMA,GAAMI,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACD,KAAD,CAAW,CACrC,GAAGA,KAAK,EAAI,CAAZ,CAAeA,KAAK,CAAG,CAAR,CACf,MAAOA,CAAAA,KAAP,CACH,CAHD,CAKA,MACIZ,CAAAA,OAAO,CAACc,MAAR,CAAe,CAAf,eACA,aAAK,SAAS,CAAEjB,MAAM,CAACoB,SAAvB,WACKjB,OAAO,CAACc,MAAR,CAAiBR,aAAjB,CAAiC,CAAjC,cACD,YAAK,OAAO,CAAE,yBAAIC,CAAAA,gBAAgB,CAACD,aAAa,CAAG,CAAjB,CAApB,EAAd,CAAuD,SAAS,CAAET,MAAM,CAACqB,UAAzE,kCADC,CAKAlB,OAAO,CAACc,MAAR,CAAiB,CAAjB,eACD,YAAK,OAAO,CAAE,yBAAIP,CAAAA,gBAAgB,CAAC,CAAD,CAApB,EAAd,CAAuC,SAAS,CAAEV,MAAM,CAACqB,UAAzD,8BAPJ,CAYKd,OAAO,CAACe,GAAR,CAAY,SAACX,GAAD,CAAMI,KAAN,qBACT,KAAC,cAAD,EAA4B,YAAY,CAAEV,QAAQ,CAACQ,MAAT,CAAgB,SAAAU,GAAG,QAAEA,CAAAA,GAAG,CAACT,KAAJ,GAAYH,GAAG,CAACa,GAAlB,EAAnB,CAA1C,CAAqF,OAAO,CAAEb,GAA9F,CAAmG,IAAI,CAAET,IAAzG,EAAqBa,KAArB,CADS,EAAZ,CAZL,cAeI,YAAK,SAAS,CAAEf,MAAM,CAACyB,QAAvB,CAAiC,EAAE,CAAC,kBAApC,EAfJ,GAFJ,CAoBH,CA7CD,CA+CA,cAAexB,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\n\r\nimport CommentWrapper from './CommentWrapper'\r\n\r\nimport styles from './Comment.module.css'\r\n\r\nconst Comment = ({post}) => {\r\n    const [mainCmt, setMainCmt] = useState([])\r\n    const [replyCmt, setReplyCmt] = useState([])\r\n    const [showCmt, setShowCmt] = useState([])\r\n    const [cmtShowNumber, setCmtShowNumber] = useState(1)\r\n\r\n    useEffect(()=>{\r\n        const cmt = post.comments.filter(cmt => !cmt.reply)\r\n        setMainCmt(cmt)\r\n        const index = IndexCommentCalculate(cmt.length - cmtShowNumber)\r\n        setShowCmt(cmt.slice(index))\r\n\r\n    },[post.comments, cmtShowNumber])\r\n\r\n    useEffect(()=>{\r\n        const repCmt = post.comments.filter(cmt=>cmt.reply)\r\n        setReplyCmt(repCmt)\r\n\r\n    },[post.comments])\r\n\r\n    const IndexCommentCalculate = (index) => {\r\n        if(index <= 0) index = 0\r\n        return index\r\n    }\r\n    \r\n    return (\r\n        mainCmt.length>0 && \r\n        <div className={styles.container}>\r\n            {mainCmt.length - cmtShowNumber > 0 ?\r\n            <div onClick={()=>setCmtShowNumber(cmtShowNumber + 5)} className={styles.toggle_cmt}>\r\n                See more comments...\r\n            </div> \r\n            :\r\n            (mainCmt.length > 1 &&\r\n            <div onClick={()=>setCmtShowNumber(1)} className={styles.toggle_cmt}>\r\n                Hide comments...\r\n            </div>\r\n            )}\r\n\r\n            {showCmt.map((cmt, index) => (\r\n                <CommentWrapper key={index} replyComment={replyCmt.filter(rep=>rep.reply===cmt._id)} comment={cmt} post={post} />\r\n            ))}\r\n            <div className={styles.dropdown} id='dropdown_comment'></div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Comment\r\n"]},"metadata":{},"sourceType":"module"}