{"ast":null,"code":"import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{useMediaQuery}from'react-responsive';import{getPosts}from'../../store/actions/postAction';import NavList from'../../components/home/left-side/NavList';import Header from'../../components/header/Header';import Status from'../../components/home/Status';import InfiniteList from'../../components/util/InfiniteList';import PostCard from'../../components/post/PostCard';import Advertising from'../../components/home/right-side/Advertising';import FriendSuggestion from'../../components/home/right-side/FriendSuggestion';import ResponsiveFriendSuggestion from'../../components/home/right-side/ResponsiveFriendSuggestion';import{motion}from'framer-motion';import Spinner from'../../assets/Spinner.png';import styles from'./Home.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,post=_useSelector.post;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showSuggestion=_useState2[0],setShowSuggestion=_useState2[1];useEffect(function(){dispatch(getPosts(auth));},[auth.user._id]);var isDesktop=useMediaQuery({query:'(min-width: 1224px)'});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:styles.content,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[isDesktop&&/*#__PURE__*/_jsx(\"div\",{className:styles.leftside,children:/*#__PURE__*/_jsx(NavList,{})}),/*#__PURE__*/_jsxs(\"div\",{id:\"inf_posts\",className:styles.middle,children:[/*#__PURE__*/_jsx(Status,{}),!isDesktop&&showSuggestion&&/*#__PURE__*/_jsx(ResponsiveFriendSuggestion,{setShowSuggestion:setShowSuggestion}),post.loading?/*#__PURE__*/_jsx(\"div\",{className:styles.spinner_wrapper,children:/*#__PURE__*/_jsx(\"img\",{src:Spinner,alt:\"spinner\"})}):/*#__PURE__*/_jsx(InfiniteList,{id:false,action:\"GET_MORE_POSTS\",api:\"post\",list:post.posts,elem:\"inf_posts\",children:post.posts.length>0?post.posts.map(function(post,index){return/*#__PURE__*/_jsx(motion.div,{initial:{transform:'translateY(10%)',opacity:0},animate:{transform:'translateY(0%)',opacity:1,transitionDuration:\".3s\",transitionDelay:\"\".concat((index+1)*0.2,\"s\")},children:/*#__PURE__*/_jsx(PostCard,{post:post})},post._id);}):/*#__PURE__*/_jsx(\"div\",{className:styles.no_post,children:\"No post available!\"})})]}),isDesktop&&/*#__PURE__*/_jsxs(\"div\",{className:styles.rightside,children:[/*#__PURE__*/_jsx(Advertising,{}),/*#__PURE__*/_jsx(FriendSuggestion,{})]})]})})]});}","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/views/Home/Home.js"],"names":["React","useEffect","useState","useDispatch","useSelector","useMediaQuery","getPosts","NavList","Header","Status","InfiniteList","PostCard","Advertising","FriendSuggestion","ResponsiveFriendSuggestion","motion","Spinner","styles","Home","dispatch","state","auth","post","showSuggestion","setShowSuggestion","user","_id","isDesktop","query","content","container","leftside","middle","loading","spinner_wrapper","posts","length","map","index","transform","opacity","transitionDuration","transitionDelay","no_post","rightside"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nimport {getPosts} from '../../store/actions/postAction'\r\n\r\nimport NavList from '../../components/home/left-side/NavList'\r\nimport Header from '../../components/header/Header'\r\nimport Status from '../../components/home/Status'\r\nimport InfiniteList from '../../components/util/InfiniteList'\r\nimport PostCard from '../../components/post/PostCard'\r\nimport Advertising from '../../components/home/right-side/Advertising'\r\nimport FriendSuggestion from '../../components/home/right-side/FriendSuggestion'\r\nimport ResponsiveFriendSuggestion from '../../components/home/right-side/ResponsiveFriendSuggestion'\r\nimport { motion } from 'framer-motion'\r\n\r\nimport Spinner from '../../assets/Spinner.png'\r\n\r\nimport styles from './Home.module.css'\r\n\r\n\r\n\r\nexport default function Home() {\r\n    const dispatch = useDispatch()\r\n    const {auth, post} = useSelector(state=>state)\r\n\r\n    const [showSuggestion, setShowSuggestion] = useState(true)\r\n\r\n    useEffect(()=>{\r\n        dispatch(getPosts(auth))\r\n    },[auth.user._id])\r\n\r\n    const isDesktop = useMediaQuery({ query: '(min-width: 1224px)' })\r\n\r\n    return (\r\n        <>\r\n            <Header/>\r\n            <div className={styles.content}>\r\n                <div className={styles.container}>\r\n                    {isDesktop && <div className={styles.leftside}>\r\n                        <NavList/>\r\n                    </div> }\r\n                    <div id='inf_posts' className={styles.middle}>\r\n                        <Status/>\r\n                        {!isDesktop && (showSuggestion && <ResponsiveFriendSuggestion setShowSuggestion={setShowSuggestion} />)}\r\n                        {post.loading?\r\n                        <div className={styles.spinner_wrapper}>\r\n                            <img src={Spinner} alt='spinner' />\r\n                        </div>                      \r\n                        :\r\n                        <InfiniteList id={false} action='GET_MORE_POSTS' api='post' list={post.posts} elem='inf_posts' >\r\n                            {post.posts.length > 0 ? post.posts.map((post, index)=>(\r\n                                <motion.div\r\n                                initial={{transform: 'translateY(10%)', opacity: 0}}\r\n                                animate={{transform: 'translateY(0%)', opacity: 1, transitionDuration: `.3s`, transitionDelay:`${(index+1)*0.2}s`}}\r\n                                key={post._id}\r\n                                >\r\n                                    <PostCard post={post} />\r\n                                </motion.div>\r\n                            ))\r\n                            :\r\n                            <div className={styles.no_post}>No post available!</div>}\r\n                        </InfiniteList>\r\n                        }                       \r\n                    </div>\r\n                    {isDesktop && <div className={styles.rightside}>\r\n                        <Advertising/>\r\n                        <FriendSuggestion/>        \r\n                    </div>}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}