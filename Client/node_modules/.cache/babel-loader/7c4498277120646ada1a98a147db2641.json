{"ast":null,"code":"import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import CommentCard from'./CommentCard';import InputComment from'./InputComment';import{MdExpandMore}from'react-icons/md';import styles from'./CommentWrapper.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentWrapper=function CommentWrapper(_ref){var post=_ref.post,comment=_ref.comment,replyComment=_ref.replyComment;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),onReply=_useState2[0],setOnReply=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),cmtShowNumber=_useState4[0],setCmtShowNumber=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),showCmt=_useState6[0],setShowCmt=_useState6[1];useEffect(function(){var index=IndexCommentCalculate(replyComment.length-cmtShowNumber);setShowCmt(replyComment.slice(index));},[replyComment,cmtShowNumber]);var IndexCommentCalculate=function IndexCommentCalculate(index){if(index<=0)index=0;return index;};return/*#__PURE__*/_jsxs(\"div\",{className:styles.comment_wrapper,children:[/*#__PURE__*/_jsx(CommentCard,{setOnReply:setOnReply,post:post,comment:comment}),/*#__PURE__*/_jsxs(\"div\",{className:styles.reply_wrapper,children:[showCmt.map(function(cmt,index){return cmt.reply&&/*#__PURE__*/_jsx(CommentCard,{setOnReply:setOnReply,comment:cmt,post:post},index);}),replyComment.length-cmtShowNumber>0&&/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setCmtShowNumber(cmtShowNumber+5);},className:styles.toggle_cmt,children:[/*#__PURE__*/_jsx(MdExpandMore,{}),\" See more reply\"]})]}),onReply&&/*#__PURE__*/_jsx(\"div\",{className:styles.rep_input,children:/*#__PURE__*/_jsx(InputComment,{post:post,onReply:onReply})})]});};export default CommentWrapper;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/components/post/comment/CommentWrapper.js"],"names":["React","useEffect","useState","CommentCard","InputComment","MdExpandMore","styles","CommentWrapper","post","comment","replyComment","onReply","setOnReply","cmtShowNumber","setCmtShowNumber","showCmt","setShowCmt","index","IndexCommentCalculate","length","slice","comment_wrapper","reply_wrapper","map","cmt","reply","toggle_cmt","rep_input"],"mappings":"+KAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CACA,OAAQC,YAAR,KAA2B,gBAA3B,CACA,MAAOC,CAAAA,MAAP,KAAmB,6BAAnB,C,wFAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,MAAmC,IAAjCC,CAAAA,IAAiC,MAAjCA,IAAiC,CAA3BC,OAA2B,MAA3BA,OAA2B,CAAlBC,YAAkB,MAAlBA,YAAkB,CACtD,cAA8BR,QAAQ,CAAC,KAAD,CAAtC,wCAAOS,OAAP,eAAgBC,UAAhB,eACA,eAA0CV,QAAQ,CAAC,CAAD,CAAlD,yCAAOW,aAAP,eAAsBC,gBAAtB,eACA,eAA8BZ,QAAQ,CAAC,EAAD,CAAtC,yCAAOa,OAAP,eAAgBC,UAAhB,eAEAf,SAAS,CAAC,UAAI,CACV,GAAMgB,CAAAA,KAAK,CAAGC,qBAAqB,CAACR,YAAY,CAACS,MAAb,CAAsBN,aAAvB,CAAnC,CACAG,UAAU,CAACN,YAAY,CAACU,KAAb,CAAmBH,KAAnB,CAAD,CAAV,CAEH,CAJQ,CAIP,CAACP,YAAD,CAAeG,aAAf,CAJO,CAAT,CAMA,GAAMK,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACD,KAAD,CAAW,CACrC,GAAGA,KAAK,EAAI,CAAZ,CAAeA,KAAK,CAAG,CAAR,CACf,MAAOA,CAAAA,KAAP,CACH,CAHD,CAKA,mBACI,aAAK,SAAS,CAAEX,MAAM,CAACe,eAAvB,wBACI,KAAC,WAAD,EAAa,UAAU,CAAET,UAAzB,CAAqC,IAAI,CAAEJ,IAA3C,CAAiD,OAAO,CAAEC,OAA1D,EADJ,cAEI,aAAK,SAAS,CAAEH,MAAM,CAACgB,aAAvB,WACKP,OAAO,CAACQ,GAAR,CAAY,SAACC,GAAD,CAAMP,KAAN,QACTO,CAAAA,GAAG,CAACC,KAAJ,eAAa,KAAC,WAAD,EAAa,UAAU,CAAEb,UAAzB,CAAiD,OAAO,CAAEY,GAA1D,CAA+D,IAAI,CAAEhB,IAArE,EAA0CS,KAA1C,CADJ,EAAZ,CADL,CAIKP,YAAY,CAACS,MAAb,CAAsBN,aAAtB,CAAsC,CAAtC,eACD,aAAK,OAAO,CAAE,yBAAIC,CAAAA,gBAAgB,CAACD,aAAa,CAAG,CAAjB,CAApB,EAAd,CAAuD,SAAS,CAAEP,MAAM,CAACoB,UAAzE,wBACI,KAAC,YAAD,IADJ,qBALJ,GAFJ,CAYKf,OAAO,eACR,YAAK,SAAS,CAAEL,MAAM,CAACqB,SAAvB,uBACI,KAAC,YAAD,EAAc,IAAI,CAAEnB,IAApB,CAA0B,OAAO,CAAEG,OAAnC,EADJ,EAbJ,GADJ,CAoBH,CApCD,CAsCA,cAAeJ,CAAAA,cAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport CommentCard from './CommentCard'\r\nimport InputComment from './InputComment'\r\nimport {MdExpandMore} from 'react-icons/md'\r\nimport styles from './CommentWrapper.module.css'\r\n\r\nconst CommentWrapper = ({post, comment, replyComment}) => {\r\n    const [onReply, setOnReply] = useState(false)\r\n    const [cmtShowNumber, setCmtShowNumber] = useState(1)\r\n    const [showCmt, setShowCmt] = useState([])\r\n\r\n    useEffect(()=>{\r\n        const index = IndexCommentCalculate(replyComment.length - cmtShowNumber)\r\n        setShowCmt(replyComment.slice(index))\r\n\r\n    },[replyComment, cmtShowNumber])\r\n\r\n    const IndexCommentCalculate = (index) => {\r\n        if(index <= 0) index = 0\r\n        return index\r\n    }\r\n\r\n    return (\r\n        <div className={styles.comment_wrapper}>\r\n            <CommentCard setOnReply={setOnReply} post={post} comment={comment} />\r\n            <div className={styles.reply_wrapper}>\r\n                {showCmt.map((cmt, index) => (\r\n                    cmt.reply && <CommentCard setOnReply={setOnReply} key={index} comment={cmt} post={post} />\r\n                ))}\r\n                {replyComment.length - cmtShowNumber > 0 &&\r\n                <div onClick={()=>setCmtShowNumber(cmtShowNumber + 5)} className={styles.toggle_cmt}>\r\n                    <MdExpandMore/> See more reply\r\n                </div>\r\n                }\r\n            </div>\r\n            {onReply && \r\n            <div className={styles.rep_input}>\r\n                <InputComment post={post} onReply={onReply} />\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CommentWrapper\r\n"]},"metadata":{},"sourceType":"module"}