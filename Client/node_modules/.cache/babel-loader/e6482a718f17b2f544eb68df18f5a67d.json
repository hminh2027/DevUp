{"ast":null,"code":"import _regeneratorRuntime from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useDispatch,useSelector}from'react-redux';import{renameProject}from'../../store/actions/projectAction';import styles from'./EditProjectModal.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProjectModal=function EditProjectModal(_ref){var project=_ref.project,setIsEdit=_ref.setIsEdit;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(project.name),_useState4=_slicedToArray(_useState3,2),name=_useState4[0],setName=_useState4[1];var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!loading){_context.next=2;break;}return _context.abrupt(\"return\");case 2:setLoading(true);if(name){_context.next=5;break;}return _context.abrupt(\"return\",dispatch({type:'ALERT',payload:{error:'Project name not allowed to be empty!'}}));case 5:_context.next=7;return dispatch(renameProject(auth,name,project._id));case 7:dispatch({type:'MODAL',payload:false});setLoading(false);setIsEdit(false);case 10:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:\"Rename Project\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.input_wrapper,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Project's Name: \"}),/*#__PURE__*/_jsx(\"input\",{style:{backgroundColor:\"\".concat(!name?'#ffd0d0':'')},spellCheck:\"false\",placeholder:\"Name...\",id:\"name\",type:\"text\",name:\"name\",value:name,onChange:function onChange(e){return setName(e.target.value);},className:styles.input})]}),/*#__PURE__*/_jsx(\"button\",{onClick:submitHandler,className:styles.submit,children:\"Submit\"})]});};export default EditProjectModal;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/components/modal/EditProjectModal.js"],"names":["React","useState","useDispatch","useSelector","renameProject","styles","EditProjectModal","project","setIsEdit","dispatch","state","auth","loading","setLoading","name","setName","submitHandler","type","payload","error","_id","container","title","input_wrapper","backgroundColor","e","target","value","input","submit"],"mappings":"0gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,aAAT,KAA8B,mCAA9B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,+BAAnB,C,wFAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,MAA0B,IAAxBC,CAAAA,OAAwB,MAAxBA,OAAwB,CAAfC,SAAe,MAAfA,SAAe,CAC/C,GAAMC,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEA,iBAAeC,WAAW,CAAC,SAAAO,KAAK,QAAEA,CAAAA,KAAF,EAAN,CAA1B,CAAOC,IAAP,cAAOA,IAAP,CAEA,cAA8BV,QAAQ,CAAC,KAAD,CAAtC,wCAAOW,OAAP,eAAgBC,UAAhB,eACA,eAAwBZ,QAAQ,CAACM,OAAO,CAACO,IAAT,CAAhC,yCAAOA,IAAP,eAAaC,OAAb,eAEA,GAAMC,CAAAA,aAAa,2FAAG,uIACfJ,OADe,iEAElBC,UAAU,CAAC,IAAD,CAAV,CAFkB,GAGdC,IAHc,yDAGDL,QAAQ,CAAC,CAACQ,IAAI,CAAE,OAAP,CAAgBC,OAAO,CAAE,CAACC,KAAK,CAAE,uCAAR,CAAzB,CAAD,CAHP,+BAIZV,CAAAA,QAAQ,CAACL,aAAa,CAACO,IAAD,CAAOG,IAAP,CAAaP,OAAO,CAACa,GAArB,CAAd,CAJI,QAKlBX,QAAQ,CAAC,CAACQ,IAAI,CAAE,OAAP,CAAgBC,OAAO,CAAE,KAAzB,CAAD,CAAR,CACAL,UAAU,CAAC,KAAD,CAAV,CACAL,SAAS,CAAC,KAAD,CAAT,CAPkB,uDAAH,kBAAbQ,CAAAA,aAAa,2CAAnB,CAUA,mBACI,aAAK,SAAS,CAAEX,MAAM,CAACgB,SAAvB,wBACI,YAAK,SAAS,CAAEhB,MAAM,CAACiB,KAAvB,4BADJ,cAEI,aAAK,SAAS,CAAEjB,MAAM,CAACkB,aAAvB,wBACI,cAAO,OAAO,CAAC,MAAf,8BADJ,cAEI,cAAO,KAAK,CAAE,CAACC,eAAe,WAAK,CAACV,IAAD,CAAM,SAAN,CAAgB,EAArB,CAAhB,CAAd,CAA0D,UAAU,CAAC,OAArE,CAA6E,WAAW,CAAC,SAAzF,CAAmG,EAAE,CAAC,MAAtG,CAA6G,IAAI,CAAC,MAAlH,CAAyH,IAAI,CAAC,MAA9H,CAAqI,KAAK,CAAEA,IAA5I,CAAkJ,QAAQ,CAAE,kBAAAW,CAAC,QAAEV,CAAAA,OAAO,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAT,EAA7J,CAAwL,SAAS,CAAEtB,MAAM,CAACuB,KAA1M,EAFJ,GAFJ,cAMI,eAAQ,OAAO,CAAEZ,aAAjB,CAAgC,SAAS,CAAEX,MAAM,CAACwB,MAAlD,oBANJ,GADJ,CAUH,CA5BD,CA8BA,cAAevB,CAAAA,gBAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { renameProject } from '../../store/actions/projectAction'\r\n\r\nimport styles from './EditProjectModal.module.css'\r\n\r\nconst EditProjectModal = ({project, setIsEdit}) => {\r\n    const dispatch = useDispatch()\r\n\r\n    const {auth} = useSelector(state=>state)\r\n\r\n    const [loading, setLoading] = useState(false)\r\n    const [name, setName] = useState(project.name)\r\n\r\n    const submitHandler = async () => {\r\n        if(loading) return;\r\n        setLoading(true)\r\n        if(!name) return dispatch({type: 'ALERT', payload: {error: 'Project name not allowed to be empty!'}})\r\n        await dispatch(renameProject(auth, name, project._id))\r\n        dispatch({type: 'MODAL', payload: false})\r\n        setLoading(false)\r\n        setIsEdit(false)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <div className={styles.title}>Rename Project</div>\r\n            <div className={styles.input_wrapper}>\r\n                <label htmlFor=\"name\" >Project's Name: </label>\r\n                <input style={{backgroundColor: `${!name?'#ffd0d0':''}`}} spellCheck=\"false\" placeholder='Name...' id='name' type='text' name='name' value={name} onChange={e=>setName(e.target.value)} className={styles.input}/>\r\n            </div>\r\n            <button onClick={submitHandler} className={styles.submit}>Submit</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default EditProjectModal\r\n"]},"metadata":{},"sourceType":"module"}