{"ast":null,"code":"import _regeneratorRuntime from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{AiOutlineSearch}from'react-icons/ai';import styles from'./Search.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Search=function Search(_ref){var searchAction=_ref.searchAction,setUsers=_ref.setUsers,setIsShow=_ref.setIsShow;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var debouncedUserInput=useDebounce(data,500);useEffect(function(){if(!data){setUsers([]);setIsShow(false);}else submitHandler(debouncedUserInput);},[debouncedUserInput]);var submitHandler=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(debouncedUserInput){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(debouncedUserInput){_context.next=2;break;}return _context.abrupt(\"return\");case 2:_context.next=4;return dispatch(searchAction(debouncedUserInput,auth));case 4:setIsShow(true);case 5:case\"end\":return _context.stop();}}},_callee);}));return function submitHandler(_x){return _ref2.apply(this,arguments);};}();var inputHandler=function inputHandler(e){setData(e.target.value);};function useDebounce(value){var wait=arguments.length>1&&arguments[1]!==undefined?arguments[1]:500;var _useState3=useState(value),_useState4=_slicedToArray(_useState3,2),debounceValue=_useState4[0],setDebounceValue=_useState4[1];useEffect(function(){var timer=setTimeout(function(){setDebounceValue(value);},wait);return function(){return clearTimeout(timer);};},[value,wait]);return debounceValue;}return/*#__PURE__*/_jsx(\"div\",{className:styles.search_bar,children:/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){return setIsShow(true);},className:styles.input_wrapper,children:[/*#__PURE__*/_jsx(\"label\",{className:styles.icon_wrapper,htmlFor:\"seacrh\",children:/*#__PURE__*/_jsx(AiOutlineSearch,{className:styles.icon})}),/*#__PURE__*/_jsx(\"input\",{spellCheck:\"false\",onChange:inputHandler,autoComplete:\"off\",value:data,className:styles.input,type:\"text\",name:\"seacrh\",id:\"seacrh\",placeholder:\"Search for people, jobs, companies and more...\"})]})});};export default Search;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/components/header/Search.js"],"names":["React","useState","useEffect","useDispatch","useSelector","AiOutlineSearch","styles","Search","searchAction","setUsers","setIsShow","dispatch","state","auth","data","setData","debouncedUserInput","useDebounce","submitHandler","inputHandler","e","target","value","wait","debounceValue","setDebounceValue","timer","setTimeout","clearTimeout","search_bar","input_wrapper","icon_wrapper","icon","input"],"mappings":"0gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAAQC,WAAR,CAAqBC,WAArB,KAAuC,aAAvC,CAEA,OAAQC,eAAR,KAA8B,gBAA9B,CAEA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,MAAyC,IAAvCC,CAAAA,YAAuC,MAAvCA,YAAuC,CAAzBC,QAAyB,MAAzBA,QAAyB,CAAfC,SAAe,MAAfA,SAAe,CACpD,GAAMC,CAAAA,QAAQ,CAAGR,WAAW,EAA5B,CAEA,iBAAeC,WAAW,CAAC,SAAAQ,KAAK,QAAEA,CAAAA,KAAF,EAAN,CAA1B,CAAOC,IAAP,cAAOA,IAAP,CACA,cAAwBZ,QAAQ,CAAC,EAAD,CAAhC,wCAAOa,IAAP,eAAaC,OAAb,eACA,GAAMC,CAAAA,kBAAkB,CAAGC,WAAW,CAACH,IAAD,CAAO,GAAP,CAAtC,CAEAZ,SAAS,CAAC,UAAI,CACV,GAAG,CAACY,IAAJ,CAAU,CACNL,QAAQ,CAAC,EAAD,CAAR,CACAC,SAAS,CAAC,KAAD,CAAT,CACH,CAHD,IAIKQ,CAAAA,aAAa,CAACF,kBAAD,CAAb,CACR,CANQ,CAMP,CAACA,kBAAD,CANO,CAAT,CAQA,GAAME,CAAAA,aAAa,2FAAG,iBAAOF,kBAAP,qHACdA,kBADc,uFAEZL,CAAAA,QAAQ,CAACH,YAAY,CAACQ,kBAAD,CAAqBH,IAArB,CAAb,CAFI,QAGlBH,SAAS,CAAC,IAAD,CAAT,CAHkB,sDAAH,kBAAbQ,CAAAA,aAAa,6CAAnB,CAMA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAAAC,CAAC,CAAI,CACtBL,OAAO,CAACK,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP,CACH,CAFD,CAIA,QAASL,CAAAA,WAAT,CAAsBK,KAAtB,CAAyC,IAAZC,CAAAA,IAAY,2DAAL,GAAK,CACrC,eAA0CtB,QAAQ,CAACqB,KAAD,CAAlD,yCAAOE,aAAP,eAAsBC,gBAAtB,eAEAvB,SAAS,CAAC,UAAM,CACd,GAAMwB,CAAAA,KAAK,CAAGC,UAAU,CAAC,UAAM,CAC7BF,gBAAgB,CAACH,KAAD,CAAhB,CACD,CAFuB,CAErBC,IAFqB,CAAxB,CAGA,MAAO,kBAAMK,CAAAA,YAAY,CAACF,KAAD,CAAlB,EAAP,CACD,CALQ,CAKN,CAACJ,KAAD,CAAQC,IAAR,CALM,CAAT,CAOA,MAAOC,CAAAA,aAAP,CACH,CAED,mBACI,YAAK,SAAS,CAAElB,MAAM,CAACuB,UAAvB,uBACI,aAAK,OAAO,CAAE,yBAAInB,CAAAA,SAAS,CAAC,IAAD,CAAb,EAAd,CAAmC,SAAS,CAAEJ,MAAM,CAACwB,aAArD,wBACI,cAAO,SAAS,CAAExB,MAAM,CAACyB,YAAzB,CAAuC,OAAO,CAAC,QAA/C,uBAAwD,KAAC,eAAD,EAAiB,SAAS,CAAEzB,MAAM,CAAC0B,IAAnC,EAAxD,EADJ,cAEI,cAAQ,UAAU,CAAC,OAAnB,CAA2B,QAAQ,CAAEb,YAArC,CAAmD,YAAY,CAAC,KAAhE,CAAsE,KAAK,CAAEL,IAA7E,CAAoF,SAAS,CAAER,MAAM,CAAC2B,KAAtG,CAA6G,IAAI,CAAC,MAAlH,CAAyH,IAAI,CAAC,QAA9H,CAAuI,EAAE,CAAC,QAA1I,CAAmJ,WAAW,CAAC,gDAA/J,EAFJ,GADJ,EADJ,CAQH,CA9CD,CAgDA,cAAe1B,CAAAA,MAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\nimport {AiOutlineSearch} from 'react-icons/ai'\r\n\r\nimport styles from './Search.module.css'\r\n\r\nconst Search = ({searchAction, setUsers, setIsShow}) => {\r\n    const dispatch = useDispatch()\r\n    \r\n    const {auth} = useSelector(state=>state)\r\n    const [data, setData] = useState('')\r\n    const debouncedUserInput = useDebounce(data, 500)\r\n\r\n    useEffect(()=>{\r\n        if(!data) {\r\n            setUsers([])\r\n            setIsShow(false)\r\n        }\r\n        else submitHandler(debouncedUserInput)   \r\n    },[debouncedUserInput])\r\n\r\n    const submitHandler = async (debouncedUserInput) => {\r\n        if(!debouncedUserInput) return\r\n        await dispatch(searchAction(debouncedUserInput, auth))\r\n        setIsShow(true)\r\n    }\r\n\r\n    const inputHandler = e => {\r\n        setData(e.target.value)\r\n    }\r\n\r\n    function useDebounce (value, wait = 500) {\r\n        const [debounceValue, setDebounceValue] = useState(value)\r\n      \r\n        useEffect(() => {\r\n          const timer = setTimeout(() => {\r\n            setDebounceValue(value)\r\n          }, wait)\r\n          return () => clearTimeout(timer)\r\n        }, [value, wait])\r\n     \r\n        return debounceValue\r\n    }\r\n\r\n    return (\r\n        <div className={styles.search_bar}>\r\n            <div onClick={()=>setIsShow(true)} className={styles.input_wrapper}>\r\n                <label className={styles.icon_wrapper} htmlFor=\"seacrh\"><AiOutlineSearch className={styles.icon}/></label>\r\n                <input  spellCheck=\"false\" onChange={inputHandler} autoComplete=\"off\" value={data}  className={styles.input} type=\"text\" name=\"seacrh\" id=\"seacrh\" placeholder=\"Search for people, jobs, companies and more...\"/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search\r\n"]},"metadata":{},"sourceType":"module"}