{"ast":null,"code":"import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import ReactDOM from'react-dom';import{useMediaQuery}from'react-responsive';import{motion,AnimatePresence}from\"framer-motion\";import Modal from'../../util/Modal';import FollowModal from'../../modal/FollowModal';import FriendCard from'../Tab/FriendCard';import GridGallery from'../../util/GridGallery';import styles from'./ResponsiveFollow.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ResponsiveFollow=function ResponsiveFollow(_ref){var profile=_ref.profile;var isDesktop=useMediaQuery({query:'(min-width: 1224px)'});var _useState=useState([]),_useState2=_slicedToArray(_useState,2),followers=_useState2[0],setFollowers=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),following=_useState4[0],setFollowing=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isFollower=_useState6[0],setIsFollower=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showFollow=_useState8[0],setShowFollow=_useState8[1];useEffect(function(){if(profile.loading||Object.keys(profile.user).length===0)return;var tempFollowers=profile.user.followers.slice(0,6);var tempFollowing=profile.user.following.slice(0,6);var output=[];tempFollowers.map(function(e){output.push(/*#__PURE__*/_jsx(FriendCard,{user:e}));});setFollowers(output);output=[];tempFollowing.map(function(e){output.push(/*#__PURE__*/_jsx(FriendCard,{user:e}));});setFollowing(output);},[profile]);return/*#__PURE__*/_jsxs(_Fragment,{children:[showFollow&&/*#__PURE__*/ReactDOM.createPortal(/*#__PURE__*/_jsx(Modal,{setIsEdit:setShowFollow,width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsx(FollowModal,{title:isFollower?'Followers':'Following',list:isFollower?profile.user.followers:profile.user.following})}),portal),!isDesktop&&/*#__PURE__*/_jsxs(\"div\",{className:styles.follow,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.heading,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.title_wrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.title,children:isFollower?'Followers':'Following'}),/*#__PURE__*/_jsx(\"div\",{className:styles.count,children:!profile.loading&&Object.keys(profile.user).length!==0&&(isFollower?profile.user.followers.length:profile.user.following.length)})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setIsFollower(!isFollower);},className:styles.btn,children:isFollower?'Show following':'Show followers'})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.body,children:/*#__PURE__*/_jsx(AnimatePresence,{children:isFollower?/*#__PURE__*/_jsx(motion.div,{initial:{transform:'translate(-100%,0)'},animate:{transform:'translate(0%,0)'},className:styles.follower,children:!profile.loading&&Object.keys(profile.user).length!==0&&/*#__PURE__*/_jsx(GridGallery,{length:\"3\",list:followers})},'followers'):/*#__PURE__*/_jsx(motion.div,{initial:{transform:'translate(100%,0)'},animate:{transform:'translate(0%,0)'},className:styles.following,children:!profile.loading&&Object.keys(profile.user).length!==0&&/*#__PURE__*/_jsx(GridGallery,{length:\"3\",list:following})},'following')})}),/*#__PURE__*/_jsx(\"div\",{className:styles.footer,children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setShowFollow(true);},className:styles.show_btn,children:\"Show all\"})})]})]});};export default ResponsiveFollow;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/components/profile/Follow/ResponsiveFollow.js"],"names":["React","useEffect","useState","ReactDOM","useMediaQuery","motion","AnimatePresence","Modal","FollowModal","FriendCard","GridGallery","styles","ResponsiveFollow","profile","isDesktop","query","followers","setFollowers","following","setFollowing","isFollower","setIsFollower","showFollow","setShowFollow","loading","Object","keys","user","length","tempFollowers","slice","tempFollowing","output","map","e","push","createPortal","portal","follow","heading","title_wrapper","title","count","btn","body","transform","follower","footer","show_btn"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\n\r\nimport Modal from '../../util/Modal'\r\nimport FollowModal from '../../modal/FollowModal'\r\nimport FriendCard from '../Tab/FriendCard'\r\nimport GridGallery from '../../util/GridGallery'\r\n\r\nimport styles from './ResponsiveFollow.module.css'\r\n\r\nconst ResponsiveFollow = ({profile}) => {\r\n    const isDesktop = useMediaQuery({ query: '(min-width: 1224px)' })\r\n\r\n    const [followers, setFollowers] = useState([])\r\n    const [following, setFollowing] = useState([])\r\n    const [isFollower, setIsFollower] = useState(true)\r\n    const [showFollow, setShowFollow] = useState(false)\r\n\r\n    useEffect(() => {\r\n        if(profile.loading || Object.keys(profile.user).length === 0) return\r\n        let tempFollowers =  profile.user.followers.slice(0, 6)\r\n        let tempFollowing =  profile.user.following.slice(0, 6)\r\n\r\n        let output = []\r\n\r\n        tempFollowers.map(e=>{\r\n            output.push(<FriendCard user={e} />)\r\n        })\r\n\r\n        setFollowers(output)\r\n        output = []\r\n\r\n        tempFollowing.map(e=>{\r\n            output.push(<FriendCard user={e} />)\r\n        })\r\n\r\n        setFollowing(output)\r\n\r\n    }, [profile])\r\n\r\n    return (\r\n    <>\r\n        {showFollow && ReactDOM.createPortal(\r\n            <Modal setIsEdit={setShowFollow} width='100%' height='100%' >\r\n                <FollowModal title={isFollower ? 'Followers':'Following'} list={isFollower ? profile.user.followers : profile.user.following} />\r\n            </Modal>\r\n        , portal)}\r\n\r\n        {!isDesktop &&\r\n            <div className={styles.follow}>\r\n                <div className={styles.heading}>\r\n                    <div className={styles.title_wrapper}>\r\n                        <div className={styles.title}>{isFollower ? 'Followers' : 'Following'}</div>\r\n                        <div className={styles.count}>{!profile.loading && Object.keys(profile.user).length !== 0 && (isFollower ?  profile.user.followers.length : profile.user.following.length)}</div>\r\n                    </div>\r\n                    <button onClick={()=>setIsFollower(!isFollower)} className={styles.btn}>{isFollower ? 'Show following' : 'Show followers'}</button>\r\n                </div>\r\n                <div className={styles.body}>\r\n                <AnimatePresence>\r\n                    {isFollower ? \r\n                    <motion.div\r\n                    key='followers'\r\n                    initial={{transform: 'translate(-100%,0)'}}\r\n                    animate={{transform: 'translate(0%,0)'}}\r\n                    className={styles.follower}>\r\n                        {!profile.loading && Object.keys(profile.user).length !== 0 && <GridGallery length='3' list={followers} />}\r\n                    </motion.div>\r\n                    :\r\n                    <motion.div\r\n                    key='following'\r\n                    initial={{transform: 'translate(100%,0)'}}\r\n                    animate={{transform: 'translate(0%,0)'}}\r\n                    className={styles.following}>\r\n                        {!profile.loading && Object.keys(profile.user).length !== 0 && <GridGallery length='3' list={following} />}\r\n                    </motion.div>\r\n                    }\r\n                </AnimatePresence>\r\n                </div>\r\n                <div className={styles.footer}>\r\n                    <button onClick={()=>setShowFollow(true)} className={styles.show_btn}>Show all</button>\r\n                </div>\r\n                \r\n            </div>}\r\n    </>\r\n)}\r\n\r\nexport default ResponsiveFollow\r\n"]},"metadata":{},"sourceType":"module"}