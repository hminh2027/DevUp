{"ast":null,"code":"import _toConsumableArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{useSelector}from'react-redux';import Search from'../../../header/Search';import UserCard from'../../../util/UserCard';import{searchUser}from'../../../../store/actions/searchAction';import{motion,AnimatePresence}from\"framer-motion\";import Spinner from'../../../../assets/Spinner.png';import styles from'./SearchResult.module.css';import OutsideClick from'../../../util/OutsideClick';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResult=function SearchResult(_ref){var setSelectedUsers=_ref.setSelectedUsers,selectedUsers=_ref.selectedUsers;var _useSelector=useSelector(function(state){return state;}),search=_useSelector.search;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showResult=_useState4[0],setShowResult=_useState4[1];useEffect(function(){setUsers(search.users);},[search.users]);var selectUser=function selectUser(user){!selectedUsers.some(function(u){return u._id===user._id;})&&setSelectedUsers([].concat(_toConsumableArray(selectedUsers),[user]));};return/*#__PURE__*/_jsx(OutsideClick,{state:showResult,setState:setShowResult,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(Search,{searchAction:searchUser,setIsShow:setShowResult,setUsers:setUsers}),/*#__PURE__*/_jsx(AnimatePresence,{children:showResult&&/*#__PURE__*/_jsx(motion.div,{initial:{maxHeight:0,overflow:'hidden'},animate:{maxHeight:400,overflow:'overlay'},transition:{duration:.5},exit:{maxHeight:0,overflow:'hidden'},className:styles.results,children:search.loading?/*#__PURE__*/_jsx(\"div\",{className:styles.spinner_wrapper,children:/*#__PURE__*/_jsx(\"img\",{src:Spinner,alt:\"spinner\"})}):users.length==0?/*#__PURE__*/_jsx(\"div\",{className:styles.no_result,children:\"No searching result...\"}):users.map(function(user){return/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return selectUser(user);},className:styles.item_wrapper,children:/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:\"\".concat(selectedUsers.some(function(u){return u._id===user._id;})&&'#F1F1F5')},className:styles.item,children:/*#__PURE__*/_jsx(UserCard,{height:\"2rem\",avatar:user.avatar,username:user.username})})},user._id);})})})]})});};export default SearchResult;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/components/code/projectManager/search/SearchResult.js"],"names":["React","useState","useEffect","useSelector","Search","UserCard","searchUser","motion","AnimatePresence","Spinner","styles","OutsideClick","SearchResult","setSelectedUsers","selectedUsers","state","search","users","setUsers","showResult","setShowResult","selectUser","user","some","u","_id","container","maxHeight","overflow","duration","results","loading","spinner_wrapper","length","no_result","map","item_wrapper","backgroundColor","item","avatar","username"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport Search from '../../../header/Search'\r\nimport UserCard from '../../../util/UserCard'\r\nimport { searchUser } from '../../../../store/actions/searchAction'\r\n\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\n\r\nimport Spinner from '../../../../assets/Spinner.png'\r\nimport styles from './SearchResult.module.css'\r\nimport OutsideClick from '../../../util/OutsideClick'\r\n\r\nconst SearchResult = ({setSelectedUsers, selectedUsers}) => {\r\n    const {search} = useSelector(state=>state)\r\n\r\n    const [users, setUsers] = useState([])\r\n    const [showResult, setShowResult] = useState(false)\r\n\r\n\r\n    useEffect(()=>{\r\n        setUsers(search.users)\r\n\r\n    },[search.users])\r\n\r\n    const selectUser = (user) => {\r\n        !selectedUsers.some(u=>u._id === user._id) && setSelectedUsers([...selectedUsers, user])\r\n    }\r\n\r\n    return (\r\n        <OutsideClick state={showResult} setState={setShowResult}>\r\n            <div className={styles.container}>\r\n                <Search searchAction={searchUser} setIsShow={setShowResult} setUsers={setUsers} />\r\n                <AnimatePresence>\r\n                    {showResult && \r\n                    <motion.div\r\n                    initial={{maxHeight: 0, overflow: 'hidden'}}\r\n                    animate={{maxHeight: 400, overflow: 'overlay'}}\r\n                    transition={{duration: .5}}\r\n                    exit={{ maxHeight: 0, overflow: 'hidden'}}\r\n                    className={styles.results}>            \r\n                        {search.loading ?\r\n                        <div className={styles.spinner_wrapper}><img src={Spinner} alt='spinner' /></div>\r\n                        :\r\n                        users.length==0 ? \r\n                        <div className={styles.no_result}>No searching result...</div>\r\n                        :\r\n                        users.map(user => \r\n                            <div onClick={()=>selectUser(user)} key={user._id} className={styles.item_wrapper}>\r\n                                <div style={{backgroundColor: `${selectedUsers.some(u=>u._id === user._id) && '#F1F1F5'}`}}  className={styles.item}>\r\n                                    <UserCard height='2rem' avatar={user.avatar} username={user.username} />\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    </motion.div>}\r\n                </AnimatePresence>\r\n            </div>\r\n        </OutsideClick>\r\n\r\n    )\r\n}\r\n\r\nexport default SearchResult\r\n"]},"metadata":{},"sourceType":"module"}