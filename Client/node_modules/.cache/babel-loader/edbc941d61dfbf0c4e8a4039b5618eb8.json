{"ast":null,"code":"import _objectSpread from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var SocketClient=function SocketClient(){var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,socket=_useSelector.socket;var dispatch=useDispatch();// Join User\nuseEffect(function(){socket.emit('joinUser',auth.user);},[socket,auth.user]);// Like - Unlike\nuseEffect(function(){socket.on('likeToClient',function(newPost){dispatch({type:'UPDATE_POST',payload:newPost});dispatch({type:'GET_POST',payload:newPost});});return function(){return socket.off('likeToClient');};},[socket,dispatch]);useEffect(function(){socket.on('unlikeToClient',function(newPost){dispatch({type:'UPDATE_POST',payload:newPost});dispatch({type:'GET_POST',payload:newPost});});return function(){return socket.off('unlikeToClient');};},[socket,dispatch]);// Comment - Uncomment\nuseEffect(function(){socket.on('commentToClient',function(newPost){dispatch({type:'UPDATE_POST',payload:newPost});dispatch({type:'GET_POST',payload:newPost});});return function(){return socket.off('commentToClient');};},[socket,dispatch]);useEffect(function(){socket.on('uncommentToClient',function(newPost){dispatch({type:'UPDATE_POST',payload:newPost});dispatch({type:'GET_POST',payload:newPost});});return function(){return socket.off('uncommentToClient');};},[socket,dispatch]);// Follow - Unfollow\nuseEffect(function(){socket.on('followToClient',function(newUser){dispatch({type:'AUTH',payload:_objectSpread(_objectSpread({},auth),{},{user:newUser})});});return function(){return socket.off('followToClient');};},[socket,dispatch]);useEffect(function(){socket.on('unfollowToClient',function(newUser){dispatch({type:'AUTH',payload:_objectSpread(_objectSpread({},auth),{},{user:newUser})});});return function(){return socket.off('unfollowToClient');};},[socket,dispatch]);// Notice - Delete Notice\nuseEffect(function(){socket.on('createNoticeToClient',function(msg){dispatch({type:'CREATE_NOTICE',payload:msg});dispatch({type:'SHOW_NOTICE',payload:true});});return function(){return socket.off('createNoticeToClient');};},[socket,dispatch]);// useEffect(()=>{\n//     socket.on('deleteNoticeToClient', notices =>{\n//         console.log(msg)\n//         dispatch({type: 'DELETE_NOTICE', payload: notices})\n//     })\n//     return () => socket.off('deleteNoticeToClient')\n// },[socket, dispatch])\nreturn/*#__PURE__*/_jsx(_Fragment,{});};export default SocketClient;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/SocketClient.js"],"names":["React","useEffect","useDispatch","useSelector","SocketClient","state","auth","socket","dispatch","emit","user","on","newPost","type","payload","off","newUser","msg"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\n\r\n\r\nconst SocketClient = () => {\r\n    const {auth, socket} = useSelector(state=>state)\r\n    const dispatch = useDispatch()\r\n\r\n    // Join User\r\n    useEffect(()=>{\r\n        socket.emit('joinUser', auth.user)\r\n    },[socket, auth.user])\r\n\r\n    // Like - Unlike\r\n    useEffect(()=>{\r\n        socket.on('likeToClient', newPost=>{\r\n            dispatch({type: 'UPDATE_POST', payload: newPost})\r\n            dispatch({type: 'GET_POST', payload: newPost})\r\n        })\r\n        return () => socket.off('likeToClient')\r\n    },[socket, dispatch])\r\n\r\n    useEffect(()=>{\r\n        socket.on('unlikeToClient', newPost=>{\r\n            dispatch({type: 'UPDATE_POST', payload: newPost})\r\n            dispatch({type: 'GET_POST', payload: newPost})\r\n        })\r\n        return () => socket.off('unlikeToClient')\r\n    },[socket, dispatch])\r\n\r\n    // Comment - Uncomment\r\n    useEffect(()=>{\r\n        socket.on('commentToClient', newPost=>{\r\n            dispatch({type: 'UPDATE_POST', payload: newPost})\r\n            dispatch({type: 'GET_POST', payload: newPost})\r\n        })\r\n        return () => socket.off('commentToClient')\r\n    },[socket, dispatch])\r\n    \r\n    useEffect(()=>{\r\n        socket.on('uncommentToClient', newPost=>{\r\n            dispatch({type: 'UPDATE_POST', payload: newPost})\r\n            dispatch({type: 'GET_POST', payload: newPost})\r\n        })\r\n        return () => socket.off('uncommentToClient')\r\n    },[socket, dispatch])\r\n\r\n    // Follow - Unfollow\r\n    useEffect(()=>{\r\n        socket.on('followToClient', newUser =>{\r\n            dispatch({type: 'AUTH', payload: {...auth, user: newUser}})\r\n        })\r\n        return () => socket.off('followToClient')\r\n    },[socket, dispatch])\r\n\r\n    useEffect(()=>{\r\n        socket.on('unfollowToClient', newUser =>{\r\n            dispatch({type: 'AUTH', payload: {...auth, user: newUser}})\r\n        })\r\n        return () => socket.off('unfollowToClient')\r\n    },[socket, dispatch])\r\n\r\n    // Notice - Delete Notice\r\n    useEffect(()=>{\r\n        socket.on('createNoticeToClient', msg =>{\r\n            dispatch({type: 'CREATE_NOTICE', payload: msg})\r\n            dispatch({type: 'SHOW_NOTICE', payload: true})\r\n        \r\n        })\r\n        return () => socket.off('createNoticeToClient')\r\n    },[socket, dispatch])\r\n\r\n    // useEffect(()=>{\r\n    //     socket.on('deleteNoticeToClient', notices =>{\r\n    //         console.log(msg)\r\n    //         dispatch({type: 'DELETE_NOTICE', payload: notices})\r\n    //     })\r\n    //     return () => socket.off('deleteNoticeToClient')\r\n    // },[socket, dispatch])\r\n\r\n    return (\r\n        <>\r\n            \r\n        </>\r\n    )\r\n}\r\n\r\nexport default SocketClient\r\n"]},"metadata":{},"sourceType":"module"}