{"ast":null,"code":"import _slicedToArray from\"D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{useState,useEffect}from'react';import{useSelector}from'react-redux';import{Link}from'react-router-dom';import{useMediaQuery}from'react-responsive';import{AiOutlineSetting}from'react-icons/ai';import{IoSearch}from'react-icons/io5';import NotificationDropdown from'../notification/NotificationDropdown';import SettingOption from'./SettingOption';import{motion,AnimatePresence}from\"framer-motion\";import SearchResult from'./SearchResult';import Avatar from'../util/Avatar';import OutsideClick from'../util/OutsideClick';import ResponsiveMenu from'./ResponsiveMenu';import Logo from'../../assets/logo.png';import styles from'./Header.module.css';import MenuButton from'./MenuButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showNoti=_useState2[0],setShowNoti=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showSetting=_useState4[0],setShowSetting=_useState4[1];// responsive part\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),showSearch=_useState6[0],setShowSearch=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showMenu=_useState8[0],setShowMenu=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),notiLength=_useState10[0],setNotiLength=_useState10[1];var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,notice=_useSelector.notice;useEffect(function(){var readNotices=notice.data.filter(function(noti){return noti.isRead.every(function(id){return id!=auth.user._id;});});setNotiLength(readNotices.length);},[notice]);var isDesktop=useMediaQuery({query:'(min-width: 1224px)'});return/*#__PURE__*/_jsxs(\"div\",{className:styles.header,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.container,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{className:styles.logo,src:Logo,alt:\"logo\"})}),isDesktop&&/*#__PURE__*/_jsx(\"div\",{className:styles.search,children:/*#__PURE__*/_jsx(SearchResult,{})}),/*#__PURE__*/_jsx(\"div\",{className:styles.btn_group_wrapper,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.btn_group,children:[isDesktop?/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setShowSetting(!showSetting);},className:styles.setting_btn,children:/*#__PURE__*/_jsx(motion.div,{whileHover:{rotate:90,scale:1.1},style:{display:'flex',borderRadius:'50%'},children:/*#__PURE__*/_jsx(AiOutlineSetting,{})})}):/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setShowSearch(!showSearch);},className:styles.search_btn,children:/*#__PURE__*/_jsx(IoSearch,{})}),/*#__PURE__*/_jsx(\"div\",{style:isDesktop?{width:'2.2rem',height:'2.2rem',margin:'1.5rem'}:{},onClick:function onClick(){return setShowNoti(!showNoti);},className:styles.noti_btn,children:notiLength}),isDesktop?/*#__PURE__*/_jsxs(Link,{to:\"/profile/\".concat(auth.user._id),className:styles.avatar_wrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.name,children:auth.user.username}),/*#__PURE__*/_jsx(Avatar,{id:auth.user._id,src:auth.user.avatar,diameter:\"3.5rem\"})]}):/*#__PURE__*/_jsx(MenuButton,{showMenu:showMenu,setShowMenu:setShowMenu})]})})]}),/*#__PURE__*/_jsxs(AnimatePresence,{children:[showMenu&&/*#__PURE__*/_jsx(motion.div,{initial:{transform:showMenu?'translate(100%,0)':'translate(0,0)'},animate:{transform:showMenu?'translate(0,0)':'translate(100%,0)',transitionDuration:\".2s\"},exit:{transform:showMenu?'translate(100%,0)':'translate(0,0)',transitionDuration:'.2s'},children:/*#__PURE__*/_jsx(OutsideClick,{state:showMenu,setState:setShowMenu,children:/*#__PURE__*/_jsx(ResponsiveMenu,{})})},'menu'),showSearch&&/*#__PURE__*/_jsx(motion.div,{initial:{transform:'translate(0,-100%)'},animate:{transform:'translate(0,0)',transitionDuration:\".2s\"},exit:{transform:'translate(0,-100%)'},className:styles.search_dropdown,children:/*#__PURE__*/_jsx(OutsideClick,{state:showSearch,setState:setShowSearch,children:/*#__PURE__*/_jsx(SearchResult,{})})},'search'),showNoti&&/*#__PURE__*/_jsx(motion.div,{className:styles.noti_dropdown,children:/*#__PURE__*/_jsx(NotificationDropdown,{isShow:showNoti,setIsShow:setShowNoti})},'notification'),/*#__PURE__*/_jsx(\"div\",{className:styles.setting_dropdown,children:/*#__PURE__*/_jsx(SettingOption,{isShow:showSetting,setIsShow:setShowSetting})})]})]});}export default Header;","map":{"version":3,"sources":["D:/Project Web/Project Web/PROJECT 12 (Only MERN)/Client/src/components/header/Header.js"],"names":["React","useState","useEffect","useSelector","Link","useMediaQuery","AiOutlineSetting","IoSearch","NotificationDropdown","SettingOption","motion","AnimatePresence","SearchResult","Avatar","OutsideClick","ResponsiveMenu","Logo","styles","MenuButton","Header","showNoti","setShowNoti","showSetting","setShowSetting","showSearch","setShowSearch","showMenu","setShowMenu","notiLength","setNotiLength","state","auth","notice","readNotices","data","filter","noti","isRead","every","id","user","_id","length","isDesktop","query","header","container","logo","search","btn_group_wrapper","btn_group","setting_btn","rotate","scale","display","borderRadius","search_btn","width","height","margin","noti_btn","avatar_wrapper","name","username","avatar","transform","transitionDuration","search_dropdown","noti_dropdown","setting_dropdown"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport {useState, useEffect} from 'react'\r\nimport { useSelector} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport { useMediaQuery } from 'react-responsive'\r\n\r\nimport {AiOutlineSetting} from 'react-icons/ai'\r\nimport {IoSearch} from 'react-icons/io5'\r\n\r\nimport NotificationDropdown from '../notification/NotificationDropdown'\r\nimport SettingOption from './SettingOption'\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport SearchResult from './SearchResult'\r\nimport Avatar from '../util/Avatar'\r\nimport OutsideClick from '../util/OutsideClick'\r\nimport ResponsiveMenu from './ResponsiveMenu'\r\nimport Logo from '../../assets/logo.png'\r\n\r\nimport styles from './Header.module.css'\r\nimport MenuButton from './MenuButton'\r\n\r\n\r\nfunction Header() {\r\n    const [showNoti, setShowNoti] = useState(false)\r\n    const [showSetting, setShowSetting] = useState(false)\r\n    \r\n    // responsive part\r\n    const [showSearch, setShowSearch] = useState(false)\r\n    const [showMenu, setShowMenu] = useState(false)\r\n\r\n    const [notiLength, setNotiLength] = useState()\r\n\r\n    const {auth, notice} = useSelector(state=>state)\r\n\r\n    useEffect(()=>{\r\n        const readNotices = notice.data.filter(noti=>noti.isRead.every(id=>id!=auth.user._id))\r\n        setNotiLength(readNotices.length)\r\n\r\n    },[notice])\r\n\r\n    const isDesktop = useMediaQuery({ query: '(min-width: 1224px)' })\r\n\r\n    return (\r\n        <div className={styles.header}>\r\n            <div className={styles.container}>\r\n                <Link to='/' >\r\n                    <img className={styles.logo} src={Logo} alt='logo'/>\r\n                </Link>\r\n                {isDesktop && <div className={styles.search}>\r\n                    <SearchResult/>\r\n                </div>}\r\n                <div className={styles.btn_group_wrapper}>\r\n                    <div className={styles.btn_group}>\r\n                        {isDesktop ?\r\n                        <div onClick={()=>setShowSetting(!showSetting)} className={styles.setting_btn}>\r\n                            <motion.div \r\n                            whileHover={{rotate: 90, scale: 1.1}} \r\n                            style={{display: 'flex', borderRadius: '50%'}}        \r\n                            >                    \r\n                                <AiOutlineSetting />\r\n                            </motion.div>\r\n                        </div>\r\n                        :\r\n                        <div onClick={()=>setShowSearch(!showSearch)} className={styles.search_btn}>\r\n                            <IoSearch/>\r\n                        </div>}\r\n                        \r\n                        <div style={isDesktop ? {width: '2.2rem', height: '2.2rem', margin: '1.5rem'}:{}} onClick={()=>setShowNoti(!showNoti)} className={styles.noti_btn}>\r\n                            {notiLength}\r\n                        </div>\r\n\r\n                        {isDesktop ?\r\n                        <Link to={`/profile/${auth.user._id}`} className={styles.avatar_wrapper}>\r\n                            <div className={styles.name}>{auth.user.username}</div>\r\n                            <Avatar id={auth.user._id} src={auth.user.avatar} diameter='3.5rem' />\r\n                        </Link>\r\n                        :\r\n                        <MenuButton showMenu={showMenu} setShowMenu={setShowMenu} />}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <AnimatePresence >\r\n                {showMenu &&\r\n                <motion.div \r\n                key='menu'\r\n                initial={{transform: showMenu ? 'translate(100%,0)' : 'translate(0,0)'}}\r\n                animate={{transform: showMenu ? 'translate(0,0)' : 'translate(100%,0)', transitionDuration: `.2s`}}\r\n                exit={{transform: showMenu ? 'translate(100%,0)' : 'translate(0,0)', transitionDuration: '.2s'}}\r\n                >\r\n                    <OutsideClick state={showMenu} setState={setShowMenu}>\r\n                        <ResponsiveMenu/>\r\n                    </OutsideClick>\r\n                </motion.div>}\r\n\r\n                {showSearch &&\r\n                <motion.div\r\n                key='search'\r\n                initial={{transform: 'translate(0,-100%)'}}\r\n                animate={{transform: 'translate(0,0)', transitionDuration: `.2s`}}\r\n                exit={{transform: 'translate(0,-100%)'}}\r\n                className={styles.search_dropdown}\r\n                >\r\n                    <OutsideClick state={showSearch} setState={setShowSearch}>\r\n                        <SearchResult/>\r\n                    </OutsideClick>    \r\n                </motion.div>}\r\n\r\n                {showNoti &&\r\n                <motion.div\r\n                key='notification'\r\n                className={styles.noti_dropdown}\r\n                >\r\n                    <NotificationDropdown isShow={showNoti} setIsShow={setShowNoti}/>\r\n                </motion.div>}\r\n\r\n                <div className={styles.setting_dropdown} >\r\n                    <SettingOption isShow={showSetting}  setIsShow={setShowSetting}/>\r\n                </div>\r\n            </AnimatePresence>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n"]},"metadata":{},"sourceType":"module"}